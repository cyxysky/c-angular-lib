.c-lib-checkbox-group {
    display: flex;
    flex-direction: column;
    gap: @checkbox-spacing-vertical;

    &.c-lib-checkbox-horizontal {
        .c-lib-checkbox-options {
            display: flex;
            flex-wrap: wrap;
            gap: @checkbox-spacing-horizontal;
        }
    }

    &.c-lib-checkbox-vertical {
        .c-lib-checkbox-options {
            display: flex;
            flex-direction: column;
            gap: @checkbox-spacing-vertical;
        }
    }
}

.c-lib-checkbox-wrapper {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    user-select: none;

    &.c-lib-checkbox-disabled {
        cursor: not-allowed;
        opacity: @checkbox-disabled-opacity;

        .c-lib-checkbox-label {
            color: @text-color-disabled;
        }
    }

    .c-lib-checkbox-input {
        position: relative;
        display: inline-flex;
        margin-right: @checkbox-input-spacing;
        align-items: center;

        input[type="checkbox"] {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            opacity: 0;

            &:disabled {
                cursor: not-allowed;
            }
        }
    }

    .c-lib-checkbox-label {
        font-size: @checkbox-label-font-size;
        line-height: @checkbox-label-line-height;
    }
}

.c-lib-checkbox-checked {
    background-color: @checkbox-checked-bg;
    border-color: @checkbox-checked-bg;
}

.c-lib-checkbox-box {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: @checkbox-size;
    height: @checkbox-size;
    border: @checkbox-border-width solid @border-color-base;
    border-radius: @checkbox-border-radius;
    background-color: @text-color-inverse;
    transition: @checkbox-transition;
    cursor: pointer;

    &.c-lib-checkbox-checked {
        background-color: @checkbox-checked-bg;
        border-color: @checkbox-checked-bg;

        .c-lib-checkbox-inner {
            opacity: 1;
            transform: scale(1);
        }
    }

    &.c-lib-checkbox-indeterminate {
        background-color: @text-color-inverse;
        border-color: @checkbox-checked-color;

        .c-lib-checkbox-inner {
            opacity: 1;
            transform: scale(0.8);

            &::after {
                width: 8px;
                height: 8px;
                background-color: var(--before-color);
                border: @base-border-width solid var(--before-color);
                border-radius: @checkbox-border-radius;
                transform: translate(-2px, -1px);
            }
        }
    }

    &.c-lib-checkbox-disabled {
        background-color: @background-color-disabled;
        border-color: @border-color-base;
        cursor: not-allowed;

        .c-lib-checkbox-inner {
            &::after {
                border-color: @text-color-disabled;
            }
        }
    }
}

.c-lib-checkbox-inner {
    position: relative;
    display: inline-block;
    width: @checkbox-inner-width;
    height: @checkbox-inner-height;
    opacity: 0;
    transform: scale(0);
    transition: opacity @animation-duration-normal, transform @animation-duration-normal cubic-bezier(0.12, 0.4, 0.29, 1.86);

    &::after {
        content: '';
        display: block;
        width: @checkbox-inner-width;
        height: @checkbox-inner-height;
        border: @checkbox-inner-border-width solid @checkbox-inner-color;
        border-left: 0;
        border-top: 0;
        transform: rotate(45deg) translate(-2px, -1px);
    }
}