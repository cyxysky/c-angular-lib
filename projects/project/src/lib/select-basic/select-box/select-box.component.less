// 颜色变量
@select-active-color: rgba(23, 184, 199, 0.6);
@select-hover-bg-color: #f5f5f5;
@select-error-color: #ff4d4f;
@select-warning-color: #faad14;
@select-bg-color: #fff;
@select-text-color: rgba(0, 0, 0, 0.85);
@select-placeholder-color: rgba(0, 0, 0, 0.45);
@select-disabled-color: rgba(0, 0, 0, 0.25);
@select-icon-color: rgba(0, 0, 0, 0.6);
@select-icon-hover-color: rgba(0, 0, 0, 0.65);

// 尺寸变量
@select-height-base: 32px;
@select-height-lg: 40px;
@select-height-sm: 24px;
@select-font-size-base: 14px;
@select-font-size-lg: 16px;
@select-font-size-sm: 14px;
@select-min-width: 200px;
@select-line-height: normal;
@select-gap: 0px;
@select-content-padding-base: 1px 4px;
@select-content-min-height-base: 28px;
@select-content-min-height-lg: 36px;
@select-content-min-height-sm: 20px;
@select-placeholder-padding-left: 4px;
@select-placeholder-padding-left-lg: 4px;
@select-placeholder-padding-left-sm: 4px;
@select-suffix-min-width-base: 30px;
@select-suffix-min-width-sm: 24px;
@select-width-full: 100%;
@select-option-max-width: calc(100% - @select-suffix-min-width-base);
@select-search-max-width: calc(100%);
@select-search-input-width: 4px;
@select-search-margin-left-base: 8px;
@select-search-margin-left-sm: 4px;
@select-search-input-height-base: 24px;
@select-search-input-height-sm: 18px;
@select-rotate-duration: 1.2s;

// 边框和阴影
@select-border-color: #e7eaed;
@select-border-radius: 4px;
@select-border-width: 1px;
@select-border-style: solid;
@select-border: @select-border-width @select-border-style @select-border-color;
@select-focus-border-color: rgba(0, 207, 226, 0.6);
@select-focus-border: @select-border-width @select-border-style @select-focus-border-color;
@select-hover-border-color: rgba(0, 207, 226, 0.4);
@select-hover-border: @select-border-width @select-border-style @select-hover-border-color;
@select-error-border: @select-border-width @select-border-style @select-error-color;
@select-warning-border: @select-border-width @select-border-style @select-warning-color;
@select-box-shadow: 0 2px 0 rgba(0, 0, 0, 0.015);
@select-focus-box-shadow: 0 0 0 2px rgba(0, 207, 226, 0.12);
@select-error-box-shadow: 0 0 0 2px rgba(255, 77, 79, 0.2);
@select-warning-box-shadow: 0 0 0 2px rgba(250, 173, 20, 0.2);

// 动画
@select-transition-duration: 0.2s;
@select-transition: all @select-transition-duration ease;
@select-icon-transition: all 0.3s ease-in-out;

:host {
    display: block;
}

.select-box {
    background-color: @select-bg-color;
    border: @select-border;
    border-radius: @select-border-radius;
    transition: @select-transition;
    min-height: @select-height-base;
    font-size: @select-font-size-base;
    cursor: pointer;
    line-height: @select-line-height;
    display: flex;
    align-items: center;
    overflow: hidden;
    min-width: @select-min-width;
    box-shadow: @select-box-shadow;
    box-sizing: border-box;
    &:hover {
        border: @select-hover-border;
    }
    &:focus,
    &:active,
    &.active {
        border: @select-focus-border;
        box-shadow: @select-focus-box-shadow;
        outline: none;
    }
    &.select-lg {
        min-height: @select-height-lg;
        font-size: @select-font-size-lg;
        .select-content {
            min-height: @select-content-min-height-lg;
        }
        .placeHolder,
        .singal-data {
            font-size: @select-font-size-lg;
            padding-left: @select-placeholder-padding-left-lg;
        }
    }
    &.select-sm {
        min-height: @select-height-sm;
        font-size: @select-font-size-sm;
        .select-content {
            min-height: @select-content-min-height-sm;
        }
        .placeHolder,
        .singal-data {
            font-size: @select-font-size-sm;
            padding-left: @select-placeholder-padding-left-sm;
        }
        .suffix-box {
            min-width: @select-suffix-min-width-sm;
            max-width: @select-suffix-min-width-sm;
            height: @select-width-full;
        }
        .search-box {
            margin-left: @select-search-margin-left-sm;
            .search-input {
                height: @select-search-input-height-sm;
            }
        }
    }
    &.select-borderless {
        border: none;
        box-shadow: none;
    }
    &.select-error {
        border: @select-error-border;
        &:focus,
        &:active,
        &.active {
            border: @select-error-border;
            box-shadow: @select-error-box-shadow;
        }
    }
    &.select-warning {
        border: @select-warning-border;
        &:focus,
        &:active,
        &.active {
            border: @select-warning-border;
            box-shadow: @select-warning-box-shadow;
        }
    }
    .select-content {
        flex-grow: 1;
        display: flex;
        flex-wrap: wrap;
        padding: @select-content-padding-base;
        min-height: @select-content-min-height-base;
        position: relative;
        gap: @select-gap;
        align-items: center;
        max-width: @select-option-max-width;
        overflow: hidden;
    }
    .suffix-box {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-grow: 0;
        flex-shrink: 0;
        min-width: @select-suffix-min-width-base;
        max-width: @select-suffix-min-width-base;
        height: @select-width-full;
        margin-left: auto;
        .clear-icon {
            display: none;
            color: @select-placeholder-color;
            transition: @select-transition;
            &:hover {
                color: @select-icon-hover-color;
            }
        }
        .select-icon {
            transition: @select-icon-transition;
            color: @select-icon-color;
        }
        .select-icon-clear {
            display: block;
        }
        .loading-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            .loading-svg {
                animation: rotate @select-rotate-duration linear infinite;
                color: @select-active-color;
            }
        }
    }
    &:hover {
        .suffix-box {
            .clear-icon {
                display: flex;
            }
            .select-icon-clear {
                display: none;
            }
        }
    }
}

.placeHolder {
    display: flex;
    align-items: center;
    padding-left: @select-placeholder-padding-left;
    color: @select-placeholder-color;
    position: absolute;
    height: 100%;
    line-height: normal;
    max-width: calc(100% - 8px);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    .placeHolder-text {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

.search-box {
    margin-left: @select-search-margin-left-base;
    max-width: @select-search-max-width;
    position: relative;
    .search-text {
        visibility: hidden;
        position: absolute;
        left: 0px;
        white-space: nowrap;
    }
    .search-input {
        margin: 0;
        padding: 0;
        background: transparent;
        border: none;
        outline: none;
        appearance: none;
        height: @select-search-input-height-base;
        width: @select-search-input-width;
    }
}

.singal-data {
    padding-left: @select-placeholder-padding-left;
    color: @select-text-color;
    position: absolute;
    max-width: 100%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    line-height: normal;
}

.singal-data-gray {
    color: @select-placeholder-color;
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.select-disabled {
    cursor: not-allowed;
    background-color: #f5f5f5;
    color: rgba(0, 0, 0, 0.25);
    border-color: #d9d9d9;
    .select-content,
    .suffix-box {
        pointer-events: none;
    }
}