<div class="select-box" 
    [class.select-sm]="size === 'small'" 
    [class.select-lg]="size === 'large'"
    [class.select-borderless]="borderless" 
    [class.select-error]="status === 'error'"
    [class.active]="isActive"
    [class.select-warning]="status === 'warning'" 
    [class.select-disabled]="disabled">
    <div class="select-content">
        <div class="placeHolder" *ngIf="showPlaceholder()">
            <div class="placeHolder-text">{{ placeholder }}</div>
        </div>
        <div *ngIf="showSingalData()" class="singal-data" [ngClass]="{'singal-data-gray': isActive}">
            <ng-container *ngTemplateOutlet="optionLabelTemplate || defaultSingalLabelTemplate; context: { $implicit: data, label: getDisplayTags(data) }"></ng-container>
            <ng-template #defaultSingalLabelTemplate let-data>{{ getDisplayTags(data) }}</ng-template>
        </div>
        <ng-container *ngIf="showMultipleData()">
            <lib-select-tag *ngFor="let tag of data;index as i" [size]="size" [closable]="true" (remove)="removeTag($event, tag)">
                <ng-container *ngTemplateOutlet="optionLabelTemplate || defaultMultipleLabelTemplate; context: { $implicit: tag, label: getDisplayTags(data) }"></ng-container>
                <ng-template #defaultMultipleLabelTemplate let-tag>{{ getDisplayTags(tag) }}</ng-template>
            </lib-select-tag>
        </ng-container>
        <lib-select-search
            #searchInput
            *ngIf="search"
            [fontSize]="size === 'small' ? '12px' : size === 'large' ? '18px' : '14px'"
            [disabled]="disabled"
            (inputWidthChange)="handleInputWidthChange()"
            (compositionChange)="handleCompositionChange($event)"
            (paste)="handlePaste($event)"
            (search)="handleSearch($event)">
        </lib-select-search>
    </div>
    <div class="suffix-box">
        <div *ngIf="loading && !disabled" class="loading-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="loading-svg">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.25-14.75A6.75 6.75 0 1 1 1.5 8c0 3.693 3.007 6.75 6.75 6.75S15 11.693 15 8A6.75 6.75 0 0 0 8.25 1.25z" fill-opacity="0" />
                <path d="M8 0a8 8 0 0 1 8 8h-2A6 6 0 0 0 8 2V0z" />
            </svg>
        </div>
        <i class="bi bi-search" *ngIf="!loading && search && isActive && !disabled"></i>
        <i class="bi bi-caret-down-fill select-icon" *ngIf="!loading && !search && data && !disabled" [ngClass]="{'select-icon-clear': allowClear}" [style.transform]="isActive ? 'rotate(180deg)' : 'rotate(0deg)'"></i>
        <i class="bi-x-circle-fill clear-icon" *ngIf="allowClear && !loading && !isActive && !disabled" (click)="clearValue($event)"></i>
    </div>
</div>