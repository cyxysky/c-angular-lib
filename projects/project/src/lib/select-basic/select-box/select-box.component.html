<div class="select-box" 
    [class.select-sm]="size === 'small'" 
    [class.select-lg]="size === 'large'"
    [class.select-borderless]="borderless" 
    [class.select-error]="status === 'error'"
    [class.select-warning]="status === 'warning'" 
    [class.select-disabled]="disabled">
    <div class="select-content">
        <div class="placeHolder" *ngIf="(!data || (data && data.length === 0)) && !searchOnCompositionValue">
            <div class="placeHolder-text">
                {{ placeholder }}
            </div>
        </div>
        <div 
            *ngIf="selectMode === 'single' && searchOnCompositionValue === ''"
            class="singal-data" 
            [ngClass]="{'singal-data-gray': isActive}">
            <!-- 使用自定义模板 -->
            <ng-container *ngTemplateOutlet="optionLabelTemplate || defaultSingalLabelTemplate; context: { $implicit: data }"></ng-container>
            <ng-template #defaultSingalLabelTemplate let-data>
                {{ getDisplayTags(data) }}
            </ng-template>
        </div>
        <ng-container *ngIf="selectMode === 'multiple'">
            <lib-select-tag *ngFor="let tag of data;index as i" [size]="size" [closable]="true" (remove)="removeTag($event, tag)" [size]="size">
                <ng-container *ngTemplateOutlet="optionLabelTemplate || defaultMultipleLabelTemplate; context: { $implicit: tag }"></ng-container>
                <ng-template #defaultMultipleLabelTemplate let-tag>
                    {{ getDisplayTags(tag) }}
                </ng-template>
            </lib-select-tag>
        </ng-container>
        <!-- 搜索框 -->
        <lib-select-search
            #searchInput
            *ngIf="search"
            [disabled]="disabled"
            (inputWidthChange)="handleInputWidthChange()"
            (compositionChange)="handleCompositionChange($event)"
            (paste)="handlePaste($event)"
            (search)="handleSearch($event)">
        </lib-select-search>
    </div>
    <!-- 后缀 -->
    <div class="suffix-box">
        <!-- 加载图标 -->
        <div *ngIf="loading" class="loading-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"
                class="loading-svg">
                <path
                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.25-14.75A6.75 6.75 0 1 1 1.5 8c0 3.693 3.007 6.75 6.75 6.75S15 11.693 15 8A6.75 6.75 0 0 0 8.25 1.25z"
                    fill-opacity="0" />
                <path d="M8 0a8 8 0 0 1 8 8h-2A6 6 0 0 0 8 2V0z" />
            </svg>
        </div>
        <!-- 搜索图标 -->
        <i class="bi bi-search" *ngIf="!loading && search && isActive"></i>
        <!-- 下拉图标 -->
        <i class="bi bi-caret-down-fill select-icon" *ngIf="!loading && !search && data" [ngClass]="{'select-icon-clear': allowClear}" [style.transform]="isActive ? 'rotate(180deg)' : 'rotate(0deg)'"></i>
        <!-- 清除图标 -->
        <i class="bi-x-circle-fill clear-icon" *ngIf="allowClear && !loading && !isActive" (click)="clearValue($event)"></i>
    </div>
</div>