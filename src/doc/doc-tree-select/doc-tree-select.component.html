<div class="doc-container">
  <h1 class="doc-title">树选择 TreeSelect</h1>
  
  <p class="doc-description">
    树型选择控件，可以对树形结构数据进行单选或多选操作。
  </p>
  
  <h2 class="doc-section-title">何时使用</h2>
  <p class="doc-description">
    当需要从一个有层级关系的大量数据中进行选择时，例如组织架构、文件夹、分类目录等。
  </p>
  
  <h2 class="doc-section-title">代码演示</h2>
  
  <div class="doc-grid">
    <!-- 基本用法 -->
    <app-doc-box
      title="基本用法"
      [sourceCode]="basicSource">
      <div demo>
        <lib-tree-select
          name="basicTreeSelect"
          [treeData]="basicTreeData"
          [(ngModel)]="basicValue"
          [treePlaceholder]="'请选择'"
          [treeMultiple]="false">
        </lib-tree-select>
        <p class="example-value">当前值: {{ basicValue }}</p>
      </div>
      <div description>
        最简单的用法，展示树形选择器的基本功能。单选模式。
      </div>
    </app-doc-box>
    
    <!-- 多选模式 -->
    <app-doc-box
      title="多选模式"
      [sourceCode]="multipleSource">
      <div demo>
        <lib-tree-select
          name="multipleTreeSelect"
          [treeData]="multipleTreeData"
          [(ngModel)]="multipleValue"
          [treePlaceholder]="'请选择'"
          [treeMultiple]="true"
          [treeCheckable]="true">
        </lib-tree-select>
        <p class="example-value">当前值: {{ multipleValue | json }}</p>
      </div>
      <div description>
        多选模式允许用户同时选择多个树节点，支持复选框操作。
      </div>
    </app-doc-box>
    
    <!-- 不同尺寸 -->
    <app-doc-box
      title="不同尺寸"
      [sourceCode]="sizeSource">
      <div demo>
        <div style="margin-bottom: 16px;">
          <lib-segmented
            [segmentedOptions]="sizeOptions"
            
            [(ngModel)]="currentSize">
          </lib-segmented>
        </div>
        <lib-tree-select
          name="sizeTreeSelect"
          [treeData]="basicTreeData"
          [(ngModel)]="basicValue"
          [treeMultiple]="true"
          [treeCheckable]="true"
          [treePlaceholder]="'请选择'"
          [treeSize]="currentSize">
        </lib-tree-select>
        <p class="example-value">当前尺寸: {{ currentSize }}</p>
      </div>
      <div description>
        树选择器有大、中、小三种尺寸，默认为中。
      </div>
    </app-doc-box>
    
    <!-- 自定义节点 -->
    <app-doc-box
      title="节点自定义"
      [sourceCode]="customNodeSource">
      <div demo>
        <lib-tree-select
          name="customNodeTreeSelect"
          [treeData]="stateTreeData"
          [(ngModel)]="stateValue"
          [treeNodeTemplate]="customNodeTemplate"
          [treePlaceholder]="'请选择自定义节点'"
          [treeMultiple]="true">
        </lib-tree-select>
        <ng-template #customNodeTemplate let-node>
          <span class="custom-node">
            自定义节点-
            <span class="custom-node-title">{{ node.title }}</span>
          </span>
        </ng-template>
        <p class="example-value">当前值: {{ stateValue | json }}</p>
      </div>
      <div description>
        使用自定义模板可以灵活定制节点的展示样式，实现更丰富的视觉效果。
      </div>
    </app-doc-box>
    
    <!-- 可搜索 -->
    <app-doc-box
      title="可搜索"
      [sourceCode]="searchSource">
      <div demo>
        <lib-tree-select
          name="searchTreeSelect"
          [treeData]="searchTreeData"
          [(ngModel)]="searchValue"
          [treePlaceholder]="'搜索节点'"
          [treeShowSearch]="true"
          [treeMultiple]="true">
        </lib-tree-select>
        <p class="example-value">当前值: {{ searchValue | json }}</p>
      </div>
      <div description>
        搜索功能使用户能够快速找到所需的节点，尤其在大型树结构中非常有用。
      </div>
    </app-doc-box>
    
    <!-- 虚拟滚动 -->
    <app-doc-box
      title="虚拟滚动"
      [sourceCode]="virtualSource">
      <div demo>
        <lib-tree-select
          name="virtualTreeSelect"
          [treeData]="virtualTreeData"
          [(ngModel)]="virtualValue"
          [treePlaceholder]="'大数据量虚拟滚动'"
          [treeVirtualScroll]="true"
          [treeDropdownHeight]="300"
          [treeMultiple]="true">
        </lib-tree-select>
        <p class="example-value">已选择 {{ virtualValue && virtualValue.length || 0 }} 个节点</p>
      </div>
      <div description>
        对于大量数据，虚拟滚动可以提高性能，只渲染可视区域内的节点。
      </div>
    </app-doc-box>
    
    <!-- 自定义标签内容 -->
    <app-doc-box
      title="自定义标签"
      [sourceCode]="customLabelSource">
      <div demo>
        <lib-tree-select
          name="customLabelTreeSelect"
          [treeData]="searchTreeData"
          [(ngModel)]="labelValue"
          [treePlaceholder]="'自定义标签显示'"
          [treeLabelTemplate]="customLabelTemplate"
          [treeMultiple]="true">
        </lib-tree-select>
        <ng-template #customLabelTemplate let-node>
          <span class="custom-label">
            <i class="bi bi-folder"></i> {{ node.title }}
          </span>
        </ng-template>
        <p class="example-value">当前值: {{ labelValue | json }}</p>
      </div>
      <div description>
        自定义选中后显示的标签内容，可以添加图标或其他样式。
      </div>
    </app-doc-box>
  </div>
  
  <h2 class="doc-section-title">API</h2>
  <app-doc-api-table [apiData]="apiSections"></app-doc-api-table>
</div>
