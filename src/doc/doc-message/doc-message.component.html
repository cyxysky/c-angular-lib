<div class="doc-container">
  <h1 class="doc-title">全局消息 Message</h1>
  
  <p class="doc-description">
    全局展示操作反馈信息。
  </p>
  
  <h2 class="doc-section-title">何时使用</h2>
  <p class="doc-description">
    当需要向用户全局展示提示信息时，例如操作成功、警告或错误信息。顶部居中显示并自动消失，是一种不打断用户操作的轻量级提示方式。
  </p>
  
  <h2 class="doc-section-title">代码演示</h2>
  
  <div class="doc-grid">
    <!-- 基本用法 -->
    <app-doc-box
      title="基本用法"
      [sourceCode]="basicSource">
      <div demo>
        <div class="demo-button-group">
          <button class="demo-button" (click)="showInfo()">显示信息</button>
          <button class="demo-button success" (click)="showSuccess()">显示成功</button>
          <button class="demo-button warning" (click)="showWarning()">显示警告</button>
          <button class="demo-button error" (click)="showError()">显示错误</button>
        </div>
      </div>
      <div description>
        最简单的用法，四种类型的消息提示：信息（info）、成功（success）、警告（warning）和错误（error）。
      </div>
    </app-doc-box>
    
    <!-- 自定义时长 -->
    <app-doc-box
      title="自定义时长"
      [sourceCode]="durationSource">
      <div demo>
        <div class="demo-button-group">
          <button class="demo-button" (click)="showLongMessage()">显示长时间消息(10s)</button>
          <button class="demo-button" (click)="showPermanentMessage()">显示永久消息</button>
          <button class="demo-button warning" (click)="removeAllMessages()">移除所有消息</button>
        </div>
      </div>
      <div description>
        可以自定义消息显示的时长，当设置为 0 时，消息将不会自动关闭。通过 removeAll 方法可一次性清除所有消息。
      </div>
    </app-doc-box>
    
    <!-- 使用模板 -->
    <app-doc-box
      title="使用模板"
      [sourceCode]="templateSource">
      <div demo>
        <ng-template #customTpl let-data>
          <div class="template-message">
            <strong>您好，{{data?.name}}!</strong>
            <div>消息时间: {{data?.time | date:'yyyy-MM-dd HH:mm:ss'}}</div>
          </div>
        </ng-template>
        
        <button class="demo-button" (click)="showTemplateMessage(customTpl)">显示模板消息</button>
      </div>
      <div description>
        使用自定义模板创建复杂内容的消息。通过模板引用和数据传递，可以实现更加丰富的消息展示。模板中可访问传入的data对象。
      </div>
    </app-doc-box>
    
    <!-- 手动关闭 -->
    <app-doc-box
      title="手动关闭"
      [sourceCode]="manualCloseSource">
      <div demo>
        <div class="demo-button-group">
          <button class="demo-button success" (click)="showMessage()">显示消息</button>
          <button class="demo-button error" (click)="closeMessage()">关闭上一条消息</button>
        </div>
      </div>
      <div description>
        手动关闭消息。通过调用 MessageService 的 remove 方法并传入消息 ID，可以在任意时刻关闭指定的消息。每次创建消息时会返回唯一ID。
      </div>
    </app-doc-box>
  </div>
  
  <h2 class="doc-section-title">API</h2>
  <app-doc-api-table [apiData]="apiSections"></app-doc-api-table>
</div>
